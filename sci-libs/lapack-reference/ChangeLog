# ChangeLog for sci-libs/lapack-reference
# Copyright 1999-2014 Gentoo Foundation; Distributed under the GPL v2
# $Id$

  14 Oct 2014; Mark Wright <gienah@gentoo.org> lapack-reference-9999.ebuild:
  Thanks to kiwifb for reviewing and the fix: change ROOT to EROOT to support
  Gentoo prefix.

  14 Oct 2014; Mark Wright <gienah@gentoo.org> lapack-reference-9999.ebuild:
  Thanks to tamiko for testing - the earlier fix for xblas,
  -DXBLAS_LIBRARY:FILEPATH="${ROOT}usr/$(get_libdir)/lib${xblas_libname}.so",
  breaks the build with USE=-xblas, so only do this when use xblas.

  13 Oct 2014; Mark Wright <gienah@gentoo.org> lapack-reference-9999.ebuild:
  Specify the xblas library location to cmake -
  sci-libs/lapack-reference-9999::science USE="int64 static-libs {test*}
  xblas*" ABI_X86="32 (64) (-x32)" builds and passes tests with eselect blas
  show = reference

  13 Oct 2014; Mark Wright <gienah@gentoo.org> lapack-reference-9999.ebuild:
  Refactor to lapack-reference use the fortran-int64.eclass. Add the virtual to
  PDEPEND. Call fortran-int64_ensure_blas to check the blas pkg-config file is
  available, and the blas-int64 pkg-config file if the int64 USE flag is
  specified. Remove the sed -e /export/s:lapack::g line for CMakeLists.txt, as
  I do not wish to change this line: "export(TARGETS ${ALL_TARGETS} FILE
  lapack-targets.cmake)". Change the addition of the xblas library to the
  Requires of the pkg-config file to allow for using an int64 build of xblas,
  by renaming BLAS_PROFNAME to BLAS_REQUIRES then including xblas in the
  -DBLAS_REQUIRES in src_configure. Try to fix
  https://github.com/gentoo-science/sci/issues/275 and Bug 524830 -
  sci-libs/arpack - configure: ld: cannot find -llapack_rs6k by calculating the
  blas pkg-config file to add to the Requires - needs testing.

  08 Oct 2014; Honza Macháček <Hloupy.Honza@centrum.cz>
  lapack-reference-9999.ebuild:
  The circular dependency on virtual/lapack removed.

  06 Oct 2014; Justin Lecher <jlec@gentoo.org> lapack-reference-9999.ebuild,
  metadata.xml:
  respect flags

  25 Sep 2014; François Bissey <francois.bissey@canterbury.ac.nz>
  lapack-reference-9999.ebuild:
  The dependency needs to be on xblas[fortran] otherwise libxblas won't have the
  required fortran symbols.

  25 Sep 2014; François Bissey <francois.bissey@canterbury.ac.nz>
  lapack-reference-9999.ebuild:
  Add xblas to the .pc file when it is in use see bug#523388

  07 Sep 2014; Mark Wright <gienah@gentoo.org> lapack-reference-9999.ebuild:
  Remove the lines changing the setting of the FC and F77 environment
  variables, instead pass the $(get_abi_CFLAGS) to cmake in the setting of the
  -DCMAKE_Fortran_FLAGS variable.

  26 Apr 2014; Mark Wright <gienah@gentoo.org> lapack-reference-9999.ebuild:
  Add >=virtual/blas-2.1-r2[int64?] and >=virtual/lapack-3.5-r2[int64?] to
  RDEPEND. Use separate eselect modules for lapack and lapack-int64.

  18 Feb 2014; Mark Wright <gienah@gentoo.org> lapack-reference-9999.ebuild,
  metadata.xml:
  multibuild lapack-reference when USE=int64 and/or USE=static is specified.

*lapack-reference-3.5.0 (08 Dec 2013)

  08 Dec 2013; Sébastien Fabbro <bicatali@gentoo.org>
  +lapack-reference-3.5.0.ebuild:
  sci-libs/lapack-reference: Version bump

  22 May 2013; Sébastien Fabbro <bicatali@gentoo.org>
  lapack-reference-9999.ebuild, metadata.xml:
  sci-libs/lapack-reference: Switch to EAPI5, merge live ebuild

  03 Mar 2013; Justin Lecher <jlec@gentoo.org> metadata.xml:
  Add unocumented USE to metadata.xml

  28 Nov 2012; Sébastien Fabbro <bicatali@gentoo.org>
  lapack-reference-3.4.2.ebuild, metadata.xml:
  sci-libs/lapack-reference: removed tmg flag, now separate ebuild

  28 Nov 2012; Sébastien Fabbro <bicatali@gentoo.org> metadata.xml:
  sci-libs/lapack-reference: tmg flag description

  28 Nov 2012; Sébastien Fabbro <bicatali@gentoo.org>
  -lapack-reference-3.3.1-r1.ebuild, -lapack-reference-3.4.1.ebuild,
  lapack-reference-3.4.2.ebuild, lapack-reference-9999.ebuild, metadata.xml:
  sci-libs/lapack-reference: Added tmg use flag, fix a failing post command test

*lapack-reference-3.4.2 (26 Oct 2012)

  26 Oct 2012; Sébastien Fabbro <bicatali@gentoo.org>
  +lapack-reference-3.4.2.ebuild:
  sci-libs/lapack-reference: Version bump. Restore the reflapack library name
  instead of lapack

  25 Apr 2012; Sébastien Fabbro <bicatali@gentoo.org>
  -files/3.4.1-cmake.patch, lapack-reference-3.4.1.ebuild,
  +files/lapack-3.4.1-cmake.patch:
  fixed patch for testing

  24 Apr 2012; Justin Lecher <jlec@gentoo.org> Manifest:
  Clean checksums

*lapack-reference-3.4.1 (23 Apr 2012)

  23 Apr 2012; Sébastien Fabbro <bicatali@gentoo.org>
  +files/3.4.1-cmake.patch, -lapack-reference-3.4.0.ebuild,
  -lapack-reference-3.4.0_p20120215-r1.ebuild, +lapack-reference-3.4.1.ebuild:
  Version bump

  23 Feb 2012; Justin Lecher <jlec@gentoo.org>
  lapack-reference-3.4.0_p20120215-r1.ebuild, metadata.xml:
  Keyworded for ~-linux prefix

  23 Feb 2012; Justin Lecher <jlec@gentoo.org>
  lapack-reference-3.4.0_p20120215-r1.ebuild, metadata.xml:
  Keyworded for ~-linux prefix

*lapack-reference-3.4.0_p20120215-r1 (17 Feb 2012)

  17 Feb 2012; Sébastien Fabbro <bicatali@gentoo.org>
  -lapack-reference-3.4.0_p20120215.ebuild,
  +lapack-reference-3.4.0_p20120215-r1.ebuild:
  Fixed pkg-config

*lapack-reference-3.4.0_p20120215 (16 Feb 2012)

  16 Feb 2012; Sébastien Fabbro <bicatali@gentoo.org>
  +lapack-reference-3.4.0_p20120215.ebuild:
  bump, with home patches

*lapack-reference-3.4.0 (26 Jan 2012)

  26 Jan 2012; Sébastien Fabbro <bicatali@gentoo.org>
  +lapack-reference-3.4.0.ebuild:
  Version bump

*lapack-reference-3.3.1 (19 Aug 2011)

  19 Aug 2011; Andrea Arteaga <andyspiros@gmail.com> +lapack-reference-9999.ebuild
  Added svn 9999 version.

  19 Aug 2011 Andrea Arteaga <andyspiros@gmail.com> +lapack-reference-3.3.1-r1.ebuild
  +files/3.3.1-blas-libs.patch +files/3.3.1-xblas-libs.patch +Manifest +metadata.xml
  Imported from bicatali overlay.

*lapack-reference-3.3.1-r1 (30 May 2011)

  30 May 2011; Sébastien Fabbro <bicatali@gentoo.org>
  -lapack-reference-3.3.1.ebuild, +lapack-reference-3.3.1-r1.ebuild:
  Moved soname to libreflapack.so. Avoid collision in configure time with
  sed's.

*lapack-reference-3.3.1 (20 Apr 2011)

  20 Apr 2011; Sébastien Fabbro <bicatali@gentoo.org>
  +files/3.3.1-blas-libs.patch, -lapack-reference-3.3.0.ebuild,
  +files/3.3.1-xblas-libs.patch, -files/3.3.0-cmake-install.patch,
  +lapack-reference-3.3.1.ebuild:
  Version bump. Fixed xblas linking.

  23 Feb 2011; Sébastien Fabbro <bicatali@gentoo.org>
  lapack-reference-3.3.0.ebuild:
  Switched to alternatives-2 framework

*lapack-reference-3.3.0 (20 Nov 2010)

  20 Nov 2010; Sébastien Fabbro <bicatali@gentoo.org> -lapack-reference-3.2.2.ebuild,
  -files/lapack-3.2.2-cmake-install.patch, +lapack-reference-3.3.0.ebuild,
  +files/3.3.0-cmake-install.patch:
  Version bump

*lapack-reference-3.2.2 (13 Nov 2010)

  13 Nov 2010; Sébastien Fabbro <bicatali@gentoo.org> +lapack-rererence-3.2.2.ebuild,
  +files/lapack-3.2.2-cmake-install.patch, +metadata.xml,
  Version bump. Major cmake refactoring. blas is shipped with it so we now
  respect upstream and do one single package for both blas and lapack

  02 Oct 2010; Fabian Groffen <grobian@gentoo.org>
  lapack-reference-3.2.1-r1.ebuild:
  Marked ~x64-macos, bug #333981

*lapack-reference-3.2.1-r1 (07 Mar 2010)

  07 Mar 2010; Justin Lecher (jlec) <jlec@gentoo.org>
  +lapack-reference-3.2.1-r1.ebuild:
  Moved to EAPI=3 for PREFIX support, imported prefix patches from overlay,
  keyworded as in overlay

  12 Dec 2009; Markus Dittrich <markusle@gentoo.org>
  lapack-reference-3.2.1.ebuild,
  +files/lapack-reference-3.2.1-parallel-make.patch:
  Fixed parallel make failures in tests (see bug #295964).

*lapack-reference-3.2.1 (13 Jul 2009)

  13 Jul 2009; Markus Dittrich <markusle@gentoo.org>
  +lapack-reference-3.2.1.ebuild:
  Version bump. Since upstream currently only provides an unversioned tarball
  we host a properly versioned one on our mirrors for the time being.

  19 Dec 2007; Justin Bronder <jsbronder@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  Move ESELECT_PROF so binary packages work.

  21 Nov 2007; Sébastien Fabbro <bicatali@gentoo.org>
  -files/lapack-reference-3.1.0-autotool.patch,
  -files/lapack-reference-3.1.1-autotool.patch, -files/eselect-reference,
  -lapack-reference-3.1.0.ebuild, -lapack-reference-3.1.1.ebuild,
  lapack-reference-3.1.1-r1.ebuild:
  Removed old versions, switch to new style virtual

  20 Nov 2007; Joe Peterson <lavajoe@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  Add ~x86-fbsd keyword (bug #189738)

  16 Nov 2007; nixnut <nixnut@gentoo.org> lapack-reference-3.1.1-r1.ebuild:
  Stable on ppc wrt bug 189738

  14 Nov 2007; Sébastien Fabbro <bicatali@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  amd64 stable wrt #189738, with kingtaco's green light.

  29 Oct 2007; Raúl Porcel <armin76@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  alpha stable wrt #189738

  21 Oct 2007; nixnut <nixnut@gentoo.org> lapack-reference-3.1.1-r1.ebuild:
  Added ~ppc

  11 Oct 2007; Sébastien Fabbro <bicatali@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  fixed lib->get_libdir for eselect bug workaround

  10 Oct 2007; Sébastien Fabbro <bicatali@gentoo.org>
  -files/lapack-reference-3.0-autotool.patch, -files/f77-reference,
  -lapack-reference-3.0.ebuild, -lapack-reference-3.0-r1.ebuild,
  lapack-reference-3.1.1-r1.ebuild:
  Removed old versions, workaround for eselect bug #189942, cleanups.

  08 Oct 2007; Markus Rothe <corsair@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  Stable on ppc64; bug #189738

  27 Sep 2007; Raúl Porcel <armin76@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  ia64/sparc stable wrt #189738

  13 Sep 2007; Christian Faulhammer <opfer@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  stable x86, bug 189738

  10 Sep 2007; Jeroen Roovers <jer@gentoo.org>
  lapack-reference-3.1.1-r1.ebuild:
  Stable for HPPA (bug #189738).

*lapack-reference-3.1.1-r1 (21 Aug 2007)

  21 Aug 2007; Sébastien Fabbro <bicatali@gentoo.org>
  +files/lapack-reference-3.1.1-autotools.patch,
  +files/eselect.lapack.reference, metadata.xml,
  +lapack-reference-3.1.1-r1.ebuild:
  New autotools patch to install pkg-config file and some cleanup. New eselect
  file to add pkg-config. Added doc use flag to install generic docs, now
  ready for new virtual style. Added longdescription in	metadata.xml. 
  General cleanup.

  25 Jul 2007; Markus Dittrich <markusle@gentoo.org>
  +files/lapack-reference-3.1.1-test-fix.patch,
  lapack-reference-3.1.1.ebuild:
  Added patch to disable testing of LS drivers since they hang for
  some yet to be determined reason.

  25 Jul 2007; Markus Dittrich <markusle@gentoo.org>
  files/lapack-reference-3.1.1-autotool.patch:
  Fixed issues due to missing ETIME intrinsic in >=gcc-4.2.

  14 Jul 2007; Steve Arnold <nerdboy@gentoo.org>
  lapack-reference-3.1.0.ebuild:
  Added last multilib fix and marked stable for amd64 (see bug #171784).  I
  still haven't tracked down the test issue; google reveals almost nothing.
  It seems to be rare and only occurs on 64-bit platforms.  Reference:
  https://icl.cs.utk.edu/lapack-forum/viewtopic.php?t=299

  25 Jun 2007; Raúl Porcel <armin76@gentoo.org>
  lapack-reference-3.1.1.ebuild:
  Add ~alpha wrt #159002

  07 Jun 2007; Joe Peterson <lavajoe@gentoo.org>
  lapack-reference-3.1.1.ebuild:
  Add ~x86-fbsd keyword

  24 Mar 2007; nixnut <nixnut@gentoo.org> lapack-reference-3.1.0.ebuild:
  Stable on ppc wrt bug 171784

  24 Mar 2007; Markus Rothe <corsair@gentoo.org>
  lapack-reference-3.1.0.ebuild:
  Stable on ppc64; bug #171784

  23 Mar 2007; Christian Faulhammer <opfer@gentoo.org>
  lapack-reference-3.1.0.ebuild:
  stable x86, bug 171784

  22 Mar 2007; Ferris McCormick <fmccor@gentoo.org>
  lapack-reference-3.1.0.ebuild:
  Sparc stable --- Bug #171784 --- builds, runs all tests successfully, and
  installs as expected.

  21 Mar 2007; Markus Dittrich <markusle@gentoo.org>
  files/lapack-reference-3.1.0-autotool.patch:
  Small fix to resolve as-needed issues.

  13 Mar 2007; Danny van Dyk <kugelfang@gentoo.org>
  lapack-reference-3.0.ebuild:
  QA: which -> type -P

*lapack-reference-3.1.1 (08 Mar 2007)

  08 Mar 2007; Markus Dittrich <markusle@gentoo.org>
  +files/lapack-reference-3.1.1-autotool.patch,
  -lapack-reference-3.0-r2.ebuild, -lapack-reference-3.0-r3.ebuild,
  -lapack-reference-3.0-r4.ebuild, +lapack-reference-3.1.1.ebuild:
  Version bump and removed obsolete versions.

*lapack-reference-3.1.0 (04 Feb 2007)

  04 Feb 2007; Markus Dittrich <markusle@gentoo.org>
  +files/lapack-reference-3.1.0-autotool.patch,
  +lapack-reference-3.1.0.ebuild:
  Version bump. Ebuild now allows library checks via lapack's 
  test-routines. Thanks much to Adam Piątyszek 
  <ediap@et.put.poznan.pl> for his ebuild and patches 
  (this fixes bug #157410).

  23 Jan 2007; Markus Dittrich <markusle@gentoo.org>
  lapack-reference-3.0.ebuild, lapack-reference-3.0-r1.ebuild,
  lapack-reference-3.0-r2.ebuild, lapack-reference-3.0-r3.ebuild,
  lapack-reference-3.0-r4.ebuild:
  Versioned the source tarballs according to the new upstream
  naming convention (see bug #162667).

  01 Nov 2006; Donnie Berkholz <dberkholz@gentoo.org>; ChangeLog:
  Update for my nick change spyderous -> dberkholz.

  24 Oct 2006; Joshua Jackson <tsunam@gentoo.org>
  lapack-reference-3.0-r1.ebuild:
  Stable x86; bug #137033

  11 Sep 2006; Ferris McCormick <fmccor@gentoo.org>
  lapack-reference-3.0-r4.ebuild:
  Add ~sparc keyword for completeness with other -reference packages.  Builds as
  expected.

  25 Aug 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  +files/eselect-reference:
  Add eselect symlink maps, reported by Markus Dittrich.

  17 Aug 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  lapack-reference-3.0-r4.ebuild:
  Note that configuration now uses eselect rather than lapack-config.

*lapack-reference-3.0-r4 (03 Jul 2006)

  03 Jul 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  +lapack-reference-3.0-r4.ebuild:
  Bumps to switch to new eselect modules.

  18 Jun 2006; Markus Rothe <corsair@gentoo.org>
  lapack-reference-3.0-r3.ebuild:
  Added ~ppc64; bug #137033

*lapack-reference-3.0-r3 (29 May 2006)

  29 May 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  +files/lapack-reference-3.0-autotool.patch,
  +lapack-reference-3.0-r3.ebuild:
  Bump to autotool the package, which makes the build work much better in
  parallel and with gcc4. Thanks to Adam Piątyszek for catching an initial
  problem; a couple of files cannot be compiled with optimization.

  15 May 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  lapack-reference-3.0-r2.ebuild:
  Keyword ~ppc.

*lapack-reference-3.0-r2 (16 Nov 2005)

  16 Nov 2005; Markus Dittrich <markusle@gentoo.org>
  +lapack-reference-3.0-r2.ebuild:
  Use libtool for linking shared libraries when compiling with ifc. 
  This closes bug #112410

*lapack-reference-3.0-r1 (13 Nov 2005)

  13 Nov 2005; Olivier Fisette <ribosome@gentoo.org>
  +lapack-reference-3.0-r1.ebuild:
  Migrated to fortran.eclass (bug #65950).

  22 Apr 2005; Danny van Dyk <kugelfang@gentoo.org>
  lapack-reference-3.0.ebuild:
  Marked stable on amd64.

*lapack-reference-3.0 (29 Dec 2004)

  29 Dec 2004; Olivier Fisette <ribosome@gentoo.org> +metadata.xml,
  +files/f77-reference, +lapack-reference-3.0.ebuild:
  Moved from app-sci/lapack-reference to sci-libs/lapack-reference.

  06 Sep 2004; Ciaran McCreesh <ciaranm@gentoo.org>
  lapack-reference-3.0.ebuild:
  Switch to use epause and ebeep, bug #62950

  18 Jun 2004; Aron Griffis <agriffis@gentoo.org> lapack-reference-3.0.ebuild:
  Fix use invocation

  14 Jun 2004; George Shapovalov <george@gentoo.org> lapack-reference-3.0.ebuild, files/{digest-lapack-reference-3.0,f77-reference} :
  initial release (#30463)
  Full LAPACK implementation using the netlib reference implementation
  ebuild submitted by Derek Dolney <dolney@astro.upenn.edu>
